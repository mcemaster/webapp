# ğŸš¨ 404 ì—ëŸ¬ í•´ê²° ê°€ì´ë“œ

í˜„ì¬ `webapp.pages.dev`ì—ì„œ 404 ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” **Cloudflare Pages í”„ë¡œì íŠ¸ê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤.

---

## â“ ì™œ 404 ì—ëŸ¬ê°€ ë°œìƒí•˜ë‚˜ìš”?

```
webapp.pages.dev â†’ DNS_PROBE_FINISHED_NXDOMAIN
```

**ì›ì¸**:
1. âŒ Cloudflare Pages í”„ë¡œì íŠ¸ ë¯¸ìƒì„±
2. âŒ ë„ë©”ì¸ì´ ì•„ì§ ë°°í¬ë˜ì§€ ì•ŠìŒ
3. âŒ DNS ë ˆì½”ë“œ ì—†ìŒ

**í•´ê²°**: Cloudflare Pagesì— í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ë°°í¬í•˜ë©´ ìë™ìœ¼ë¡œ í•´ê²°ë©ë‹ˆë‹¤.

---

## ğŸ¯ í•´ê²° ë°©ë²• (3ë‹¨ê³„)

### 1ë‹¨ê³„: API í† í° ìƒì„± â±ï¸ 5ë¶„

ì´ì „ í† í°ì€ **ê¶Œí•œ ë¶€ì¡±**ìœ¼ë¡œ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

**ğŸ‘‰ í•  ì¼**:
1. https://dash.cloudflare.com/profile/api-tokens ì ‘ì†
2. "Create Token" â†’ "Custom token"
3. **í•„ìˆ˜ ê¶Œí•œ 4ê°œ ì¶”ê°€**:
   ```
   âœ“ Account â†’ Cloudflare Pages â†’ Edit
   âœ“ Account â†’ D1 â†’ Edit
   âœ“ Account â†’ Workers Scripts â†’ Edit
   âœ“ Account â†’ Account Settings â†’ Read
   ```
4. "Create Token" í´ë¦­
5. **í† í° ë³µì‚¬** (í•œ ë²ˆë§Œ í‘œì‹œë¨!)

---

### 2ë‹¨ê³„: Pages í”„ë¡œì íŠ¸ ìƒì„± â±ï¸ 5ë¶„

**ğŸ‘‰ í•  ì¼**:
1. https://dash.cloudflare.com/pages ì ‘ì†
2. "Create application" â†’ "Connect to Git"
3. GitHub ì—°ê²° â†’ `mcemaster/webapp` ì„ íƒ
4. ë¹Œë“œ ì„¤ì •:
   ```
   Project name: webapp
   Build command: npm run build
   Build output directory: dist
   ```
5. í™˜ê²½ ë³€ìˆ˜:
   ```
   OPENAI_API_KEY = [OpenAI í‚¤]
   DART_API_KEY = [DART í‚¤]
   ```
6. **"Save and Deploy"** í´ë¦­

---

### 3ë‹¨ê³„: D1 ë°”ì¸ë”© ì¶”ê°€ â±ï¸ 2ë¶„

ë°°í¬ ì™„ë£Œ í›„:

**ğŸ‘‰ í•  ì¼**:
1. Pages â†’ `webapp` â†’ Settings â†’ Functions
2. "D1 database bindings" â†’ "Add binding"
3. ì…ë ¥:
   ```
   Variable name: DB
   D1 database: webapp-production
   ```
4. "Save" â†’ Deployments â†’ "Retry deployment"

---

## ğŸ–¥ï¸ CLIë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì‚¬í•­)

í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰:

```bash
# 1. API í† í° ì„¤ì •
export CLOUDFLARE_API_TOKEN="[ìœ„ì—ì„œ ë³µì‚¬í•œ í† í°]"

# 2. ìë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
cd /home/user/webapp
./deploy.sh
```

ë˜ëŠ” ìˆ˜ë™:

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
npx wrangler d1 execute webapp-production --remote \
  --file=migrations/003_create_certifications.sql

npx wrangler d1 execute webapp-production --remote \
  --file=migrations/004_add_certificate_files.sql

npx wrangler d1 execute webapp-production --remote \
  --file=seed_certifications.sql
```

---

## âœ… ì™„ë£Œ í™•ì¸

ë°°í¬ ì™„ë£Œ í›„ ë‹¤ìŒ URLë¡œ ì ‘ì†:

```
âœ… https://webapp-[í”„ë¡œì íŠ¸ID].pages.dev/certification0000
âœ… https://webapp-[í”„ë¡œì íŠ¸ID].pages.dev/admin/certification0000_admin
```

404 ì—ëŸ¬ê°€ ì‚¬ë¼ì§€ê³  ì •ìƒì ìœ¼ë¡œ í˜ì´ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤!

---

## ğŸ†˜ ë¬¸ì œ ë°œìƒ ì‹œ

### API í† í° ê¶Œí•œ ë¶€ì¡±
```
Error: Unable to authenticate request [code: 10001]
```
**í•´ê²°**: 1ë‹¨ê³„ ë‹¤ì‹œ ì‹¤í–‰ (4ê°œ ê¶Œí•œ ëª¨ë‘ ì¶”ê°€)

### D1 ë°”ì¸ë”© ì˜¤ë¥˜
```
Error: DB is not defined
```
**í•´ê²°**: 3ë‹¨ê³„ í™•ì¸ (Variable nameì€ `DB`)

### ë¹Œë“œ ì‹¤íŒ¨
**í•´ê²°**: Pages ëŒ€ì‹œë³´ë“œì—ì„œ ë¹Œë“œ ë¡œê·¸ í™•ì¸

---

## ğŸ“š ìì„¸í•œ ë¬¸ì„œ

- **ë¹ ë¥¸ ì‹œì‘**: `DEPLOYMENT_QUICKSTART.md`
- **ìƒì„¸ ê°€ì´ë“œ**: `CLOUDFLARE_SETUP_GUIDE.md`
- **ìë™ ìŠ¤í¬ë¦½íŠ¸**: `./deploy.sh`

---

## ğŸ‰ ìš”ì•½

1. âœ… API í† í° ìƒì„± (ì˜¬ë°”ë¥¸ ê¶Œí•œ 4ê°œ)
2. âœ… Cloudflare Pages í”„ë¡œì íŠ¸ ìƒì„±
3. âœ… D1 ë°”ì¸ë”© ì¶”ê°€
4. âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

**ì´ ì†Œìš” ì‹œê°„**: ì•½ 15ë¶„

ì™„ë£Œí•˜ë©´ **404 ì—ëŸ¬ í•´ê²°** ë° ì •ìƒ ë°°í¬ ì™„ë£Œ! ğŸš€

---

**ì‘ì„±**: 2026-01-09
**í”„ë¡œì íŠ¸**: MCE ê²½ì˜ì¸ì¦í‰ê°€ì›
