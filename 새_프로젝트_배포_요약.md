# ğŸ†• ìƒˆ í”„ë¡œì íŠ¸ë¡œ ë°°í¬í•˜ê¸° - ì™„ì „ ìš”ì•½

`webapp`ì´ ì•„ë‹Œ **ìƒˆë¡œìš´ Cloudflare Pages í”„ë¡œì íŠ¸**ë¡œ ì¸ì¦ ì‹œìŠ¤í…œì„ ë°°í¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

---

## ğŸ¯ ëª©í‘œ

```
ê¸°ì¡´: webapp.pages.dev (í†µí•© ì‹œìŠ¤í…œ)
  â†“
ìƒˆë¡œ: mce-certification.pages.dev (ì¸ì¦ ì‹œìŠ¤í…œ ì „ìš©)
```

---

## âš¡ ë¹ ë¥¸ ì‹œì‘ (15ë¶„)

### 1ë‹¨ê³„: API í† í° (5ë¶„)

```bash
# 1. í† í° ìƒì„± í˜ì´ì§€ ì ‘ì†
https://dash.cloudflare.com/profile/api-tokens

# 2. "Create Token" â†’ "Custom token"

# 3. ê¶Œí•œ ì¶”ê°€ (4ê°œ):
âœ“ Account â†’ Cloudflare Pages â†’ Edit
âœ“ Account â†’ D1 â†’ Edit  
âœ“ Account â†’ Workers Scripts â†’ Edit
âœ“ Account â†’ Account Settings â†’ Read

# 4. í† í° ë³µì‚¬
```

---

### 2ë‹¨ê³„: D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± (3ë¶„)

```bash
# í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰
export CLOUDFLARE_API_TOKEN="your_token_here"
cd /home/user/webapp
npx wrangler d1 create mce-certification-db

# ì¶œë ¥ëœ database_id ë³µì‚¬!
# ì˜ˆ: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

---

### 3ë‹¨ê³„: wrangler.toml ìˆ˜ì • (1ë¶„)

```bash
# database_id ì—…ë°ì´íŠ¸ (ë³µì‚¬í•œ IDë¡œ ë³€ê²½)
nano wrangler.toml

# ë˜ëŠ”
DB_ID="your_database_id_here"
sed -i "s/YOUR_NEW_DATABASE_ID_HERE/$DB_ID/" wrangler.toml
```

---

### 4ë‹¨ê³„: Pages í”„ë¡œì íŠ¸ ìƒì„± (5ë¶„)

```bash
# 1. Pages ëŒ€ì‹œë³´ë“œ
https://dash.cloudflare.com/pages

# 2. "Create application" â†’ "Connect to Git"

# 3. GitHub â†’ mcemaster/webapp

# 4. ì„¤ì •:
Project name: mce-certification
Build command: npm run build
Build output directory: dist

# 5. í™˜ê²½ ë³€ìˆ˜:
OPENAI_API_KEY = [í‚¤]
DART_API_KEY = [í‚¤]

# 6. "Save and Deploy"
```

---

### 5ë‹¨ê³„: D1 ë°”ì¸ë”© ì¶”ê°€ (2ë¶„)

```bash
# Pages â†’ mce-certification â†’ Settings â†’ Functions
# D1 database bindings â†’ Add binding:

Variable name: DB
D1 database: mce-certification-db

# ì €ì¥ í›„ ì¬ë°°í¬
```

---

### 6ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (3ë¶„)

```bash
# ìë™ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
./deploy.sh

# ë˜ëŠ” ìˆ˜ë™:
npx wrangler d1 execute mce-certification-db --remote \
  --file=migrations/003_create_certifications.sql

npx wrangler d1 execute mce-certification-db --remote \
  --file=migrations/004_add_certificate_files.sql

npx wrangler d1 execute mce-certification-db --remote \
  --file=seed_certifications.sql
```

---

## âœ… ì™„ë£Œ!

ì ‘ì† URL:
```
https://mce-certification.pages.dev/certification0000
```

---

## ğŸ“Š ë¹„êµí‘œ

| í•­ëª© | ê¸°ì¡´ (webapp) | ìƒˆ í”„ë¡œì íŠ¸ (mce-certification) |
|------|--------------|--------------------------------|
| **URL** | webapp.pages.dev | mce-certification.pages.dev |
| **ìš©ë„** | í†µí•© ì‹œìŠ¤í…œ | ì¸ì¦ ì „ìš© |
| **DB** | webapp-production | mce-certification-db |
| **ê´€ë¦¬** | ë‹¤ë¥¸ ê¸°ëŠ¥ê³¼ í•¨ê»˜ | ë…ë¦½ì  ê´€ë¦¬ |

---

## ğŸ”„ ì£¼ìš” ë³€ê²½ì‚¬í•­

### íŒŒì¼ ìˆ˜ì •

1. **wrangler.toml**
   ```toml
   name = "mce-certification"
   database_name = "mce-certification-db"
   database_id = "your_new_id"
   ```

2. **package.json**
   ```json
   "name": "mce-certification"
   ```

3. **deploy.sh**
   - í”„ë¡œì íŠ¸ëª…: `mce-certification`
   - DBëª…: `mce-certification-db`

---

## ğŸŒ ìƒˆ URL êµ¬ì¡°

```
ì¸ì¦ ê²€ìƒ‰: https://mce-certification.pages.dev/certification0000
ê´€ë¦¬ì: https://mce-certification.pages.dev/admin/certification0000_admin
DB ê´€ë¦¬: https://mce-certification.pages.dev/admin/certification0000_admin/database
ë…ë¦½í˜•: https://mce-certification.pages.dev/certification-search-standalone.html
```

---

## ğŸ’¡ ì¥ì 

âœ… **ëª…í™•í•œ URL**: mce-certification.pages.dev  
âœ… **ë…ë¦½ ê´€ë¦¬**: ë‹¤ë¥¸ ì‹œìŠ¤í…œê³¼ ë¶„ë¦¬  
âœ… **í™•ì¥ì„±**: ì¸ì¦ ì‹œìŠ¤í…œë§Œ í™•ì¥ ê°€ëŠ¥  
âœ… **ë³´ì•ˆ**: ë³„ë„ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê²©ë¦¬

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### API í† í° ê¶Œí•œ ë¶€ì¡±
```bash
# ìƒˆ í† í° ìƒì„± (4ê°œ ê¶Œí•œ ëª¨ë‘ ì¶”ê°€)
```

### database_id ì˜¤ë¥˜
```bash
# D1 ëŒ€ì‹œë³´ë“œì—ì„œ ID í™•ì¸
https://dash.cloudflare.com/d1
```

### D1 ë°”ì¸ë”© ì˜¤ë¥˜
```bash
# Variable name: DB (ëŒ€ë¬¸ì)
# ì¬ë°°í¬ í•„ìˆ˜
```

---

## ğŸ“š ìì„¸í•œ ê°€ì´ë“œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| `NEW_PROJECT_SETUP.md` | ìƒì„¸ ë°°í¬ ê°€ì´ë“œ |
| `COMMANDS_CHEATSHEET.md` | ëª…ë ¹ì–´ ëª¨ìŒ |
| `DEPLOYMENT_QUICKSTART.md` | ë¹ ë¥¸ ì‹œì‘ |
| `CLOUDFLARE_SETUP_GUIDE.md` | ì „ì²´ ê°€ì´ë“œ |

---

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] API í† í° ìƒì„±
- [ ] D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
- [ ] wrangler.toml ì—…ë°ì´íŠ¸
- [ ] Pages í”„ë¡œì íŠ¸ ìƒì„±
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] D1 ë°”ì¸ë”© ì¶”ê°€
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] ì ‘ì† í…ŒìŠ¤íŠ¸

---

## ğŸš€ ìë™ ë°°í¬

```bash
# í•œ ì¤„ ëª…ë ¹ì–´
export CLOUDFLARE_API_TOKEN="token" && cd /home/user/webapp && ./deploy.sh
```

---

## ğŸ“ PR ë§í¬

**Pull Request**: https://github.com/mcemaster/webapp/pull/1

---

**ì‘ì„±ì¼**: 2026-01-09  
**í”„ë¡œì íŠ¸**: MCE ì¸ì¦ ì‹œìŠ¤í…œ  
**ì†Œìš” ì‹œê°„**: ì•½ 15ë¶„
